<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>如何使用LLM构造代码生成工具？ | Leon's life</title>
<meta name=keywords content><meta name=description content="
tiktok架构三面场景题，由GPT生成答案，需要进一步修改。

1. 确定需求与目标
明确代码生成工具的目标功能，例如：

用途 ：生成函数代码、修复代码错误、添加注释、优化代码。
语言支持 ：支持的编程语言（如 Python、JavaScript）。
细粒度 ：生成单个函数、模块，还是整段代码。

示例 ：
用户输入："><meta name=author content><link rel=canonical href=https://beardleon.github.io/posts/20250110/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://beardleon.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://beardleon.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://beardleon.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://beardleon.github.io/apple-touch-icon.png><link rel=mask-icon href=https://beardleon.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://beardleon.github.io/posts/20250110/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://beardleon.github.io/posts/20250110/"><meta property="og:site_name" content="Leon's life"><meta property="og:title" content="如何使用LLM构造代码生成工具？"><meta property="og:description" content=" tiktok架构三面场景题，由GPT生成答案，需要进一步修改。
1. 确定需求与目标 明确代码生成工具的目标功能，例如：
用途 ：生成函数代码、修复代码错误、添加注释、优化代码。 语言支持 ：支持的编程语言（如 Python、JavaScript）。 细粒度 ：生成单个函数、模块，还是整段代码。 示例 ： 用户输入："><meta property="og:locale" content="en-zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-10T17:42:35+08:00"><meta property="article:modified_time" content="2025-01-10T17:42:35+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="如何使用LLM构造代码生成工具？"><meta name=twitter:description content="
tiktok架构三面场景题，由GPT生成答案，需要进一步修改。

1. 确定需求与目标
明确代码生成工具的目标功能，例如：

用途 ：生成函数代码、修复代码错误、添加注释、优化代码。
语言支持 ：支持的编程语言（如 Python、JavaScript）。
细粒度 ：生成单个函数、模块，还是整段代码。

示例 ：
用户输入："><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://beardleon.github.io/posts/"},{"@type":"ListItem","position":2,"name":"如何使用LLM构造代码生成工具？","item":"https://beardleon.github.io/posts/20250110/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"如何使用LLM构造代码生成工具？","name":"如何使用LLM构造代码生成工具？","description":" tiktok架构三面场景题，由GPT生成答案，需要进一步修改。\n1. 确定需求与目标 明确代码生成工具的目标功能，例如：\n用途 ：生成函数代码、修复代码错误、添加注释、优化代码。 语言支持 ：支持的编程语言（如 Python、JavaScript）。 细粒度 ：生成单个函数、模块，还是整段代码。 示例 ： 用户输入：\n","keywords":[""],"articleBody":" tiktok架构三面场景题，由GPT生成答案，需要进一步修改。\n1. 确定需求与目标 明确代码生成工具的目标功能，例如：\n用途 ：生成函数代码、修复代码错误、添加注释、优化代码。 语言支持 ：支持的编程语言（如 Python、JavaScript）。 细粒度 ：生成单个函数、模块，还是整段代码。 示例 ： 用户输入：\n2. 输入数据预处理 在使用 LLM 前，需对用户的自然语言输入进行处理：\n清理和归一化 ：去除多余空格或符号，确保输入清晰。 上下文增强 ： 如果用户仅描述部分需求，可以结合上下文补充。 例如，根据用户的历史对话记录理解目标。 示例 ： 原始输入：\n预处理后：\n3. 调用语言模型生成代码 使用 LLM（如 OpenAI’s GPT-4、Codex）生成代码，步骤如下：\n选择模型 ：根据任务复杂性选择适合的 LLM，例如： GPT 系列适合多用途代码生成。 Codex 专注于代码理解和生成。 构造 Prompt ： Prompt 是输入给 LLM 的完整问题描述，确保足够详细。 包括：语言类型、功能描述、输入输出示例。 示例 Prompt ：\n调用 API ： 使用模型的 API 接口发送请求并获取结果。 代码示例（以 OpenAI API 为例）： 4. 结果后处理 对 LLM 生成的代码进行处理和优化：\n格式化 ： 确保代码风格统一，如符合 PEP8（Python 风格指南）。 错误修复 ： 检查代码是否包含语法或逻辑错误。 如果生成结果不完整，可使用补全方法补充代码。 示例处理后的代码 ：\n5. 验证生成的代码 验证代码的正确性和可靠性：\n测试用例 ： 自动生成测试用例，验证代码输出是否符合预期。 边界条件 ： 针对特殊情况（如零或负数）运行代码。 用户验证 ： 将代码返回用户，允许用户修改或确认。 示例测试 ：\n6. 迭代优化 如果代码生成效果不理想：\n调整 Prompt： 增加更多详细说明。 提供正反例以提高生成准确性。 用户反馈循环： 收集用户对代码的评价，优化生成逻辑。 模型微调（可选）： 使用专属数据集微调模型以更好满足特定任务需求。 7. 代码生成工具的交互设计 结合生成过程，设计用户友好的界面和功能：\n文本输入框 ：用户描述需求。 预览和修改 ：显示生成的代码，用户可手动修改。 执行与调试 ：集成代码运行环境，用户可即时测试。 结果存储 ：允许用户保存生成的代码片段。 8. 部署与维护 模型托管 ：将 LLM 部署到云服务或本地环境。 性能优化 ：优化调用速度和 Token 消耗。 用户反馈收集 ：定期更新模型或 Prompt 模板。 总结 完整流程图如下：\n","wordCount":"921","inLanguage":"en","datePublished":"2025-01-10T17:42:35+08:00","dateModified":"2025-01-10T17:42:35+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://beardleon.github.io/posts/20250110/"},"publisher":{"@type":"Organization","name":"Leon's life","logo":{"@type":"ImageObject","url":"https://beardleon.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://beardleon.github.io/ accesskey=h title="Leon's life (Alt + H)">Leon's life</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://beardleon.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://beardleon.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://beardleon.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://beardleon.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://beardleon.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">如何使用LLM构造代码生成工具？</h1><div class=post-meta><span title='2025-01-10 17:42:35 +0800 +0800'>January 10, 2025</span></div></header><div class=post-content><blockquote><p>tiktok架构三面场景题，由GPT生成答案，需要进一步修改。</p></blockquote><h3 id=1-确定需求与目标>1. <strong>确定需求与目标</strong><a hidden class=anchor aria-hidden=true href=#1-确定需求与目标>#</a></h3><p>明确代码生成工具的目标功能，例如：</p><ul><li><strong>用途</strong> ：生成函数代码、修复代码错误、添加注释、优化代码。</li><li><strong>语言支持</strong> ：支持的编程语言（如 Python、JavaScript）。</li><li><strong>细粒度</strong> ：生成单个函数、模块，还是整段代码。</li></ul><p><strong>示例</strong> ：
用户输入：</p><hr><h3 id=2-输入数据预处理>2. <strong>输入数据预处理</strong><a hidden class=anchor aria-hidden=true href=#2-输入数据预处理>#</a></h3><p>在使用 LLM 前，需对用户的自然语言输入进行处理：</p><ol><li><strong>清理和归一化</strong> ：去除多余空格或符号，确保输入清晰。</li><li><strong>上下文增强</strong> ：</li></ol><ul><li>如果用户仅描述部分需求，可以结合上下文补充。</li><li>例如，根据用户的历史对话记录理解目标。</li></ul><p><strong>示例</strong> ：
原始输入：</p><p>预处理后：</p><hr><h3 id=3-调用语言模型生成代码>3. <strong>调用语言模型生成代码</strong><a hidden class=anchor aria-hidden=true href=#3-调用语言模型生成代码>#</a></h3><p>使用 LLM（如 OpenAI&rsquo;s GPT-4、Codex）生成代码，步骤如下：</p><ol><li><strong>选择模型</strong> ：根据任务复杂性选择适合的 LLM，例如：</li></ol><ul><li>GPT 系列适合多用途代码生成。</li><li>Codex 专注于代码理解和生成。</li></ul><ol><li><strong>构造 Prompt</strong> ：</li></ol><ul><li>Prompt 是输入给 LLM 的完整问题描述，确保足够详细。</li><li>包括：语言类型、功能描述、输入输出示例。</li></ul><p><strong>示例 Prompt</strong> ：</p><ol start=3><li><strong>调用 API</strong> ：</li></ol><ul><li>使用模型的 API 接口发送请求并获取结果。</li><li>代码示例（以 OpenAI API 为例）：</li></ul><hr><h3 id=4-结果后处理>4. <strong>结果后处理</strong><a hidden class=anchor aria-hidden=true href=#4-结果后处理>#</a></h3><p>对 LLM 生成的代码进行处理和优化：</p><ol><li><strong>格式化</strong> ：</li></ol><ul><li>确保代码风格统一，如符合 PEP8（Python 风格指南）。</li></ul><ol><li><strong>错误修复</strong> ：</li></ol><ul><li>检查代码是否包含语法或逻辑错误。</li><li>如果生成结果不完整，可使用补全方法补充代码。</li></ul><p><strong>示例处理后的代码</strong> ：</p><hr><h3 id=5-验证生成的代码>5. <strong>验证生成的代码</strong><a hidden class=anchor aria-hidden=true href=#5-验证生成的代码>#</a></h3><p>验证代码的正确性和可靠性：</p><ol><li><strong>测试用例</strong> ：</li></ol><ul><li>自动生成测试用例，验证代码输出是否符合预期。</li></ul><ol><li><strong>边界条件</strong> ：</li></ol><ul><li>针对特殊情况（如零或负数）运行代码。</li></ul><ol><li><strong>用户验证</strong> ：</li></ol><ul><li>将代码返回用户，允许用户修改或确认。</li></ul><p><strong>示例测试</strong> ：</p><hr><h3 id=6-迭代优化>6. <strong>迭代优化</strong><a hidden class=anchor aria-hidden=true href=#6-迭代优化>#</a></h3><p>如果代码生成效果不理想：</p><ol><li>调整 Prompt：<ul><li>增加更多详细说明。</li><li>提供正反例以提高生成准确性。</li></ul></li><li>用户反馈循环：<ul><li>收集用户对代码的评价，优化生成逻辑。</li></ul></li><li>模型微调（可选）：<ul><li>使用专属数据集微调模型以更好满足特定任务需求。</li></ul></li></ol><hr><h3 id=7-代码生成工具的交互设计>7. <strong>代码生成工具的交互设计</strong><a hidden class=anchor aria-hidden=true href=#7-代码生成工具的交互设计>#</a></h3><p>结合生成过程，设计用户友好的界面和功能：</p><ol><li><strong>文本输入框</strong> ：用户描述需求。</li><li><strong>预览和修改</strong> ：显示生成的代码，用户可手动修改。</li><li><strong>执行与调试</strong> ：集成代码运行环境，用户可即时测试。</li><li><strong>结果存储</strong> ：允许用户保存生成的代码片段。</li></ol><hr><h3 id=8-部署与维护>8. <strong>部署与维护</strong><a hidden class=anchor aria-hidden=true href=#8-部署与维护>#</a></h3><ol><li><strong>模型托管</strong> ：将 LLM 部署到云服务或本地环境。</li><li><strong>性能优化</strong> ：优化调用速度和 Token 消耗。</li><li><strong>用户反馈收集</strong> ：定期更新模型或 Prompt 模板。</li></ol><hr><h3 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h3><p>完整流程图如下：</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://beardleon.github.io/>Leon's life</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>